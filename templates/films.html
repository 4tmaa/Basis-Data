{% extends 'base.html' %}

{% block content %}
    <h2 style="text-align: center;">Daftar Film</h2>

    <!-- Dropdown untuk memilih genre -->
    <form method="POST" style="text-align: center; margin-bottom: 20px;">
        <label for="genre" style="font-size: 1.2rem; color: #333;">Pilih Genre:</label>
        <select name="genre" id="genre" style="padding: 10px; border-radius: 5px; margin-left: 10px;">
            <option value="">Semua Genre</option> <!-- Pilihan untuk semua genre -->
            {% for genre in genres %}
                <option value="{{ genre[0] }}">{{ genre[0] }}</option>
            {% endfor %}
        </select>
        <button type="submit" style="padding: 10px; background-color: #e50914; color: white; border: none; border-radius: 5px; font-size: 1rem; cursor: pointer;">
            Filter
        </button>
    </form>

    <div style="display: flex; flex-wrap: wrap; justify-content: center;">
        {% for row in hasil %}
            <div style="margin: 20px; text-align: center; width: 200px;">
                <!-- Gunakan <img> untuk menampilkan poster film berdasarkan Poster_URL -->
                <img src="{{ row[2] }}" alt="Poster Film" style="width: 100%; height: 300px; object-fit: cover; object-position: center; margin-bottom: 10px;">
                
                <!-- Menampilkan judul film -->
                <h3>{{ row[1] }}</h3>

                <a href="{{ url_for('film_detail', id=row[0]) }}">Lihat Detail</a>  <!-- Tautan ke halaman detail -->
            </div>
        {% endfor %}
    </div>
{% endblock %}
